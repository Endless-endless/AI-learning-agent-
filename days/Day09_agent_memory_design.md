## Day 9｜Agent 记忆结构设计

### 1. 我的 Agent 需要哪些记忆？

### Profile Memory（长期）

- 角色：  
  AI 学习教练，负责引导用户系统性学习 AI，并在偏离目标时进行纠偏。

- 长期目标：  
  在限定时间内，帮助用户构建可用的 AI Agent 和 AI 应用，并逐步提升其工程能力。

---

### Task Memory（中期）

- 当前任务：  
  Day 9：设计 Agent 的记忆结构，为后续 Agent 与 App 实操做准备。

- 已完成步骤：  
  - 理解 Agent 记忆的概念与作用  
  - 区分短期上下文与长期记忆  
  - 设计三类核心记忆结构（Profile / Task / Feedback）

---

### Feedback Memory（纠偏）

- 最近一次失败原因：  
  用户对“纠偏机制”的理解偏向概念层，未能从控制流和系统设计角度进行解释。

- 最近一次纠偏结果：  
  用户在引导下补充了“错误—反馈—调整”的流程理解，纠偏机制验证通过。

---

### 2. 哪些信息不会被记录？为什么？
用于解释而举的例子、与研究内容无关的噪声数据、
因为这些数据对于我们研究的内容没有太多帮助，反而占据了本来agent有限的记忆容量

---

### 3. 这些记忆将如何影响 Agent 的下一步？
这些记忆会成为下一次Agent行为的重要影响因子，在模型里熵值较大，从而主导下一次的研究方向和解决的问题

### 面向 App 的记忆存储思路（不写代码）

- 这些记忆是存在内存 / 文件 / 数据库？——内存
- 哪些是每次启动都要加载的？——角色、长期目标、当前完成进度
- 哪些可以丢弃？——之前否定掉的方案、对研究目标无影响的对话等



# 2-3AI版本

### 2. 哪些信息不会被记录？为什么？

不会被记录的信息主要包括：
- 为解释概念而临时使用的示例
- 与当前任务或长期目标无关的对话内容
- 已被明确否定、且不会再影响决策的方案细节

这些信息的共同特点是：  
**不会对 Agent 的未来行为决策产生实质影响。**

如果将此类信息长期保存，不仅会占用有限的记忆空间，还可能引入噪声，干扰 Agent 对关键状态的判断。

---

### 3. 这些记忆将如何影响 Agent 的下一步？

Agent 的记忆将作为“状态信息”，直接参与下一步行为决策。

具体而言：
- Profile Memory 会约束 Agent 的整体行为方向和角色边界
- Task Memory 会决定当前处于流程的哪一步
- Feedback Memory 会影响 Agent 是否需要继续纠偏或允许流程前进

因此，记忆并不是被动存储的信息，而是主动影响控制流和决策路径的关键因素。

---

### 面向 App 的记忆存储思路（不写代码）

- Profile Memory（角色、长期目标）：  
  适合持久化存储（文件或数据库），并在每次 App 启动时加载。

- Task Memory（当前任务、完成进度）：  
  主要存放在内存中，App 运行期间频繁读写，必要时可在异常中断时进行恢复。

- Feedback Memory（纠偏记录）：  
  选择性持久化，重要的失败原因和关键纠偏结果需要保存，其余可丢弃。

总体原则是：  
**长期影响行为决策的记忆需要持久化，  
只影响当前执行过程的记忆可以存在内存中。**

